"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[550],{5550:function(n,r,e){e.r(r),e.d(r,{default:function(){return y}});var t=e(2791),i=e(6959),c=e(184);var a=function(n){var r=n.car,e=r.id,t=r.img,i=r.brand,a=r.model,s=r.year,l=r.features,o=r.description,u=r.price;return(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:t,alt:"".concat(i," ").concat(a," ").concat(s)}),(0,c.jsxs)("div",{children:[i,(0,c.jsxs)("div",{children:[a," ",(0,c.jsx)("span",{children:","})]}),s,(0,c.jsxs)("div",{children:[o,l]}),u]})]},e)};var s=function(n){var r=n.cars;return(0,c.jsx)("ul",{children:r.map((function(n){return n.id?(0,c.jsx)(a,{car:n},n.id):null}))})},l=e(9434),o=e(7562),u=function(n){return n.cars.cars},d=function(n){return n.cars.filteredCars},f=function(n){return n.cars.filter},h=function(n){return n.cars.isLoading},v=function(n){return n.cars.isFiltered},j=e(9991),x=e(1413),b=e(9439),p=e(1087),g=["Audi","Bentley","BMW","Ferrari","Ford","Jaguar","Lamborghini","Lexus","Maserati","Maybach","McLaren","Mercedes-AMG","Mercedes-Benz","Mercedes-Maybach","Nissan","Porsche","Range Rover","Rolls-Royce","Volkswagen"],m=e(7241),F=function(n){var r=n.cars,e=n.isFiltered,i=n.inFilter,a=n.changeIsFiltered,s=n.filter,o=void 0===s?{}:s,u=n.changeFilter,d=(0,t.useState)(!1),f=(0,b.Z)(d,2),h=f[0],v=f[1],j=(0,p.lr)(),F=(0,b.Z)(j,2)[1],k=(0,l.I0)(),y=(0,t.useCallback)((function(){for(var n in o)if(o.hasOwnProperty(n)&&o[n])return!1;return!0}),[o]);(0,t.useEffect)((function(){y()?F({}):F((0,x.Z)({},o))}),[o,y,F]);var C=(0,t.useState)(""),M=(0,b.Z)(C,2),w=M[0],Z=M[1];return(0,c.jsx)("section",{children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"modelTitle",children:"Brands"}),(0,c.jsx)("input",{id:"modelTitle",readOnly:!0,placeholder:"Choose brand",value:w})]}),(0,c.jsx)("button",{type:"button",onClick:function(){var n;v(h===(n="brand")?null:n)},children:"brand"===h?(0,c.jsx)(m.DT4,{}):(0,c.jsx)(m.X2r,{})}),"brand"===h&&(0,c.jsx)("div",{children:(0,c.jsx)("ul",{children:g.map((function(n,r){return(0,c.jsx)("li",{className:o&&o.brand===n?"active":"",onClick:function(){return function(n){u({brand:n}),v(!1),Z(n)}(n)},children:n},r)}))})}),(0,c.jsx)("button",{type:"button",onClick:function(){console.log("All cars:",r);var n=r.filter((function(n){return function(n,r){return console.log("Filtering car:",n,"with filter:",r),!!n&&(!r||void 0===r.brand||!r.brand||n.brand===r.brand)}(n,o)}));console.log("filteredCars:",n),i(n),k(a(!0))},children:"Search"}),e&&(0,c.jsx)("button",{type:"button",onClick:function(){Z(""),k(u((0,x.Z)((0,x.Z)({},o),{},{brand:""}))),k(a(!1))},children:"Reset"})]})})};var k=function(){var n=(0,l.I0)(),r=(0,l.v9)(u),e=(0,l.v9)(f),a=(0,l.v9)(d),x=(0,l.v9)(h),b=(0,l.v9)(v);return(0,t.useEffect)((function(){n((0,o.o)())}),[n]),console.log("Parent component filter:",e),(0,c.jsx)("section",{children:(0,c.jsxs)(i.W,{children:[(0,c.jsx)(F,{cars:r,filter:e,isFiltered:b,inFilter:function(r){return n((0,j.jy)(r))},changeIsFiltered:function(r){return n((0,j.Kw)(r))},changeFilter:function(r){return n((0,j.Tv)(r))}}),x?(0,c.jsx)("span",{children:"Loading..."}):(0,c.jsx)(s,{cars:b?a:r}),b&&!a.length&&(0,c.jsx)("span",{children:"Not found"})]})})};var y=function(){return(0,c.jsx)(k,{})}}}]);
//# sourceMappingURL=550.f2739c98.chunk.js.map